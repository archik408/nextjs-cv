---
title: –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
description: –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø —ç—Ç–æ –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
date: 2025-12-30
tags: [javascript, typescript, zoom, a11y, programming]
---

## –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

–ï—Å–ª–∏ –≤ –æ—Å–Ω–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–∞–∫ –∏ –º–æ–µ–≥–æ, –ª–µ–∂–∏—Ç —Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏, —Ç–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö–æ—Ä–æ—à–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã–µ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.

–ù—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–æ–ª—å—à–∏–º, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—ë –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —ç–∫—Ä–∞–Ω–∞. –ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, –∑–¥–µ—Å—å –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏ ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–∑–æ–≤—ã—Ö CSS-–ø—Ä–∞–≤–∏–ª:

```css
height: auto;
width: auto;
max-width: 100%;
max-height: 100%;
object-fit: contain;
```

–û–¥–Ω–∞–∫–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—Å—Ç–æ –ø—Ä–æ—Å—è—Ç –Ω–µ—Ç–∏–ø–∏—á–Ω—ã–µ, –Ω–æ –≤–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

## –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: Art Direction –∫–∞–∫ –∑–∞–±—ã—Ç—ã–π –ø–æ–¥—Ö–æ–¥

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º, —Å—Ç–æ–∏—Ç –≤—Å–ø–æ–º–Ω–∏—Ç—å –æ –ø–æ–¥—Ö–æ–¥–µ [Art Direction (—Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)](https://dev.to/marklchaves/what-is-art-direction-and-how-to-use-it-1o3n), –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–Ω—å—à–µ –±—ã–ª —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –Ω–æ —Å–µ–π—á–∞—Å —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ.

–°—É—Ç—å –ø–æ–¥—Ö–æ–¥–∞ –∑–∞–∫–ª—é—á–∞–ª–∞—Å—å –≤ —Ç–æ–º, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–ª–∏ –∏–ª–∏ —Å–∂–∏–º–∞–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤, –∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

- –î–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤ ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ (landscape) –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ –ø–æ–ª–Ω—É—é —Å—Ü–µ–Ω—É, –ø–µ–π–∑–∞–∂, –æ–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ (portrait) –∏–ª–∏ –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –∫–ª—é—á–µ–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ, –≥–ª–∞–≤–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –∏–ª–∏ –∞–∫—Ç—ë—Ä–µ

![–†–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è Art Direction](/garden/zoom/art-direction.png)

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –ø–∞—Ä–∞–ª–ª–µ–ª—å –∏–∑ –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∞: –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç –Ω–∞–∑–∞–¥ –æ–±—Å—É–∂–¥–∞–ª–∞—Å—å –∏–¥–µ—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —Ñ–∏–ª—å–º–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω, –∞ –ø–µ—Ä–µ–∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–æ–º —ç–∫—Ä–∞–Ω–µ —Ñ–æ–∫—É—Å —Å–º–µ—â–∞–ª—Å—è —Å –æ–±—â–µ–≥–æ –ø–ª–∞–Ω–∞ –Ω–∞ –¥–µ—Ç–∞–ª–∏, —ç–º–æ—Ü–∏–∏ –∞–∫—Ç—ë—Ä–æ–≤ –∏ –∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏—è, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å.

–°–µ–≥–æ–¥–Ω—è Art Direction –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∂–µ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö CSS-—Ä–µ—à–µ–Ω–∏–π. –û–¥–Ω–∞–∫–æ –µ–≥–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π: –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –ø—Ä–æ—Å—Ç–æ "—Ä–µ–∑–∏–Ω–æ–≤—ã–º", –∞ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è.

## –ù–µ—Ç–∏–ø–∏—á–Ω—ã–µ, –Ω–æ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏

### 1. –õ—É–ø–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞

–ö–∞–∑–∞–ª–æ—Å—å –±—ã, –≤ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∑—É–º (Ctrl +/-, Ctrl + –∫–æ–ª–µ—Å–æ –º—ã—à–∏), –Ω–æ –ø–æ—á–µ–º—É-—Ç–æ –æ–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–µ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ.

–í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —Ä–µ—à–µ–Ω–∏–µ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–Ω–æ–π –ª—É–ø—ã. –ù–∏–∂–µ ‚Äî –ø—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ React.js, –æ—Å–Ω–æ–≤–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å Codepen.

![–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–Ω–æ–π –ª—É–ø—ã –≤ –≤–µ–±-–¥–µ—Å–∫—Ç–æ–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](/garden/zoom/zoom-desktop.png)

–°–µ–∫—Ä–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –∑–∞–≥—Ä—É–∂–∞–µ–º –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–≤–∞–∂–¥—ã. –û—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å, –∞ –≤—Ç–æ—Ä–æ–µ (—É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –≤–æ –º–Ω–æ–≥–æ —Ä–∞–∑) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ñ–æ–Ω –¥–ª—è –ª—É–ø—ã. –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –ø–æ–¥–ª–æ–∂–∫—É –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –æ–±–ª–∞—Å—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ñ–æ–Ω–∞.

```jsx
const PhotoPreview = ({ isOpen, onClose, preview }) => {
  const imageBoxRef = useRef(null);
  const imgRef = useRef(null);
  const zoomRef = useRef(null);

  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–æ–Ω–∞ –¥–ª—è –ª—É–ø—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  useEffect(() => {
    if (imgRef.current && zoomRef.current) {
      const img = imgRef.current;
      const zoom = zoomRef.current;

      const handleImageLoad = () => {
        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–æ–Ω–∞ –¥–ª—è —Å–∏–ª—å–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—è
        const scaledWidth = img.naturalWidth * ZOOM_SCALE;
        const scaledHeight = img.naturalHeight * ZOOM_SCALE;
        zoom.style.backgroundSize = `${scaledWidth}px ${scaledHeight}px`;
      };

      if (img.complete) {
        handleImageLoad();
      } else {
        img.addEventListener('load', handleImageLoad);
        return () => {
          img.removeEventListener('load', handleImageLoad);
        };
      }
    }
  }, []);

  const handleMouseMove = useCallback((event) => {
    if (!imgRef.current || !zoomRef.current || !imageBoxRef.current) {
      return;
    }

    const original = imgRef.current;
    const magnified = zoomRef.current;
    const imageBox = imageBoxRef.current;

    const boxRect = imageBox.getBoundingClientRect();
    const x = event.clientX - boxRect.left;
    const y = event.clientY - boxRect.top;

    const imgWidth = original.offsetWidth;
    const imgHeight = original.offsetHeight;

    let xperc = (x / imgWidth) * 100;
    let yperc = (y / imgHeight) * 100;

    // –ü–æ–∑–≤–æ–ª—è–µ–º –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å –∑–∞ –∫—Ä–∞—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    if (x >= 0.01 * imgWidth) {
      xperc *= 1.15;
    }
    if (y >= 0.01 * imgHeight) {
      yperc *= 1.15;
    }

    magnified.style.backgroundPositionX = `${xperc - 9}%`;
    magnified.style.backgroundPositionY = `${yperc - 9}%`;

    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –ª—É–ø—É
    magnified.style.left = `${x - ZOOM_OFFSET}px`;
    magnified.style.top = `${y - ZOOM_OFFSET}px`;
  }, []);

  return (
    <Dialog open={isOpen} onClose={onClose} fullScreen className={styles.wrapper}>
      <div className={styles.modal}>
        <div ref={imageBoxRef} onMouseMove={handleMouseMove}>
          <img ref={imgRef} src={preview} alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ" />
          <div
            ref={zoomRef}
            style={{
              backgroundImage: `url(${preview})`,
            }}
          />
        </div>
      </div>
    </Dialog>
  );
};
```

### 2. –ú–æ–±–∏–ª—å–Ω—ã–π –∑—É–º –∂–µ—Å—Ç–∞–º–∏ (pinch-to-zoom)

–ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–æ–¥—Ö–æ–¥ —Å –ª—É–ø–æ–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—É–¥–æ–±–Ω—ã–º. –ó–¥–µ—Å—å –º—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è —Å –ø–∞—Ä–∞–¥–æ–∫—Å–æ–º: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–∏–º–∏ –∫ –Ω–∞—Ç–∏–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, –Ω–æ –≤ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∑—É–º –∂–µ—Å—Ç–∞–º–∏ —á–∞—Å—Ç–æ –æ—Ç–∫–ª—é—á–∞—é—Ç –Ω–∞ –≤–µ–±-–≤—å—é, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∂–µ—Å—Ç–æ–≤ –∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–π.

```html
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no"
/>
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑—É–º–∞ –∂–µ—Å—Ç–∞–º–∏ (pinch-to-zoom) ‚Äî must-have. –í–∞–∂–Ω–æ —Ç–∞–∫–∂–µ –¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç—å, —á—Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞, —Å –ø–æ–º–æ—â—å—é –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞.

![–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∂–µ—Å—Ç–∞–º–∏ –≤ –≤–µ–±-–º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](/garden/zoom/zoom-mobile.png)

–ù–∏–∂–µ ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è, –Ω–æ —Ä–∞–±–æ—á–∞—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑—É–º–∞ –∂–µ—Å—Ç–∞–º–∏ –Ω–∞ React:

```jsx
import React from 'react';
import { Modal, ModalOverlay } from '@chakra-ui/react';
import Box from 'shared/ui/Box';
import Text from 'shared/ui/Text';
import styles from './PhotoPreview.module.scss';
import useZoom from './useZoom';

const PhotoPreview = ({ isOpen, photo, onClose }) => {
  const {
    frameRef,
    mediaContainerRef,
    transformStyle,
    onPointerDown,
    onPointerMove,
    onPointerUpOrCancel,
    isOnboarding,
    closeOnboarding,
  } = useZoom({ maxScale: 5, wheelIntensity: 0.004 }, isOpen);

  const handleClick = (e) => {
    e.stopPropagation();
    closeOnboarding();
  };

  return (
    <Modal isOpen={isOpen || false} onClose={onClose}>
      <ModalOverlay />
      <Box className={styles.photoPreview} onClick={onClose}>
        <Box ref={frameRef} className={styles.frame}>
          <Box
            ref={mediaContainerRef}
            className={styles.mediaContainer}
            style={transformStyle}
            onPointerDown={onPointerDown}
            onPointerMove={onPointerMove}
            onPointerUp={onPointerUpOrCancel}
            onPointerCancel={onPointerUpOrCancel}
            onDoubleClick={handleClick}
            onClick={handleClick}
          >
            <Box
              visibility={isOnboarding ? 'visible' : 'hidden'}
              className={styles.onboard}
              role="status"
              aria-live="polite"
            >
              <Box className={styles.pointers}>
                <Box className={styles.pointerTop} />
                <Box className={styles.pointerBottom} />
              </Box>
              <Text variant="body-regular" className={styles.onboardText}>
                –£–≤–µ–ª–∏—á–∏—Ç—å —Ñ–æ—Ç–æ –º–æ–∂–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ–º –ø–∞–ª—å—Ü–µ–≤
              </Text>
            </Box>
            <img className={styles.imgPreview} src={photo} alt="–ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ" />
          </Box>
        </Box>
      </Box>
    </Modal>
  );
};

export default React.memo(PhotoPreview);
```

–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—É–∫–∞ useZoom, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–≥–æ –∑—É–º –∂–µ—Å—Ç–∞–º–∏, –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ) –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, –¥–æ–≤–æ–ª—å–Ω–æ –æ–±—ä–µ–º–Ω–∞, –Ω–æ –µ—ë –∫–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º–∞—Å—à—Ç–∞–±–∞ –∏ —Å–¥–≤–∏–≥–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º—É–ª—å—Ç–∏—Ç–∞—á–∞ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü.

```javascript
import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';

import isFunction from 'lodash/isFunction';
import { LS_KEYS } from 'constants/lsKeys';

import {
  clamp,
  getMidpoint,
  getDistance,
  SCALE_LIMITS,
  INIT_TRANSLATE,
  computeNextTranslateFromPinch,
} from './utils';

// –û—Å–Ω–æ–≤–Ω–æ–π —Ö—É–∫ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∂–µ—Å—Ç–æ–≤–æ–≥–æ –∑—É–º–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
const useZoom = (options, enabled) => {
  // –†–µ—Ñ—ã –¥–ª—è DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
  const frameRef = useRef(null); // –í–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—Ä–∞–º–∫–∞)
  const mediaContainerRef = useRef(null); // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

  // –ö—ç—à –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π/–∫–∞—Å–∞–Ω–∏–π
  const pointerCacheRef = useRef(new Map()); // –î–ª—è pointer-—Å–æ–±—ã—Ç–∏–π
  const touchCacheRef = useRef(new Map()); // –î–ª—è touch-—Å–æ–±—ã—Ç–∏–π

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∂–µ—Å—Ç–∞ –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
  const lastGestureRef = useRef({ scale: 1, translateX: 0, translateY: 0 });

  // –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
  const baseSizeRef = useRef({ width: 0, height: 0 }); // –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const frameSizeRef = useRef({ width: 0, height: 0 }); // –†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è (–¥–ª—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è)
  const lastSingleTouchRef = useRef(null);

  // –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –º–∞—Å—à—Ç–∞–± –∏ —Å–º–µ—â–µ–Ω–∏–µ
  const [scale, setScale] = useState(1);
  const [translate, setTranslate] = useState(INIT_TRANSLATE);

  // CSS transform —Å—Ç–∏–ª—å, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const transformStyle = useMemo(
    () => ({
      transform: `translate3d(${translate.x}px, ${translate.y}px, 0) scale(${scale})`,
    }),
    [scale, translate.x, translate.y]
  );

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
  const limits = useMemo(
    () => ({
      min: options?.minScale ?? SCALE_LIMITS.min, // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑—É–º (1x)
      max: options?.maxScale ?? SCALE_LIMITS.max, // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑—É–º (4x –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    }),
    [options?.minScale, options?.maxScale]
  );

  // –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –∑—É–º–∞ –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏
  const wheelIntensity = useMemo(() => options?.wheelIntensity ?? 0.005, [options?.wheelIntensity]);

  const maxScale = limits.max;
  const minScale = limits.min;

  // –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ)
  const measureSizes = useCallback(() => {
    const frameEl = frameRef.current;
    const mediaEl = mediaContainerRef.current;
    if (!frameEl || !mediaEl) {
      return;
    }

    // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã —Ä–∞–º–∫–∏
    const frameRect = frameEl.getBoundingClientRect();
    frameSizeRef.current = { width: frameRect.width, height: frameRect.height };

    // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã —Å–∞–º–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!)
    const inner = mediaEl.querySelector('img,canvas');
    if (inner) {
      baseSizeRef.current = {
        width: inner.offsetWidth,
        height: inner.offsetHeight,
      };
    }
  }, []);

  // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ —É—Ö–æ–¥–∏–ª–æ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
  const clampTranslate = useCallback((nextX, nextY, nextScale) => {
    const { width: frameW, height: frameH } = frameSizeRef.current;
    const { width: baseW, height: baseH } = baseSizeRef.current;

    if (!frameW || !frameH || !baseW || !baseH) {
      return { x: nextX, y: nextY };
    }

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
    const contentW = baseW * nextScale;
    const contentH = baseH * nextScale;

    // –í—ã—á–∏—Å–ª—è–µ–º –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã —Å–º–µ—â–µ–Ω–∏—è
    const offsetX = Math.max(0, (contentW - frameW) / 2);
    const offsetY = Math.max(0, (contentH - frameH) / 2);

    const minX = -offsetX;
    const maxX = offsetX;
    const minY = -offsetY;
    const maxY = offsetY;

    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –≥—Ä–∞–Ω–∏—Ü
    return {
      x: clamp(nextX, minX, maxX),
      y: clamp(nextY, minY, maxY),
    };
  }, []);

  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
  const applyTransform = useCallback(
    (nextScale, nextX, nextY) => {
      // –°–Ω–∞—á–∞–ª–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
      const clamped = clampTranslate(nextX, nextY, nextScale);

      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      setScale(nextScale);
      setTranslate(clamped);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
      lastGestureRef.current = {
        scale: nextScale,
        translateX: clamped.x,
        translateY: clamped.y,
      };
    },
    [clampTranslate]
  );

  // –•–µ–ª–ø–µ—Ä –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è DOM
  const attachWhenRefsReady = useCallback((setup) => {
    let rafId = 0;
    let cleanup;
    const tryAttach = () => {
      const frameEl = frameRef.current;
      const mediaEl = mediaContainerRef.current;
      if (!frameEl || !mediaEl) {
        // –ï—Å–ª–∏ —Ä–µ—Ñ—ã –µ—â—ë –Ω–µ –≥–æ—Ç–æ–≤—ã, –∂–¥—ë–º —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–∞–¥—Ä–∞
        rafId = requestAnimationFrame(tryAttach);
        return;
      }
      cleanup = setup(frameEl, mediaEl);
    };
    tryAttach();
    return () => {
      if (rafId) {
        cancelAnimationFrame(rafId);
      }
      if (isFunction(cleanup)) {
        cleanup();
      }
    };
  }, []);

  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Ä–µ—Å–∞–π–∑–∞ –∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤
  useEffect(() => {
    measureSizes();
    const onResize = () => {
      measureSizes();
      const clamped = clampTranslate(translate.x, translate.y, scale);
      setTranslate(clamped);
    };

    window.addEventListener('resize', onResize);

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º ResizeObserver –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    const cleanupObserver = attachWhenRefsReady((frame, media) => {
      if (typeof ResizeObserver === 'undefined') {
        return;
      }
      const inner = media.querySelector('img,canvas');
      const handleResizeObserve = () => {
        onResize();
      };
      const observer = new ResizeObserver(handleResizeObserve);
      observer.observe(frame);
      observer.observe(media);
      if (inner) {
        observer.observe(inner);
      }
      return () => observer.disconnect();
    });

    return () => {
      window.removeEventListener('resize', onResize);
      if (typeof cleanupObserver === 'function') {
        cleanupObserver();
      }
    };
  }, [measureSizes, scale, translate.x, translate.y, clampTranslate, enabled, attachWhenRefsReady]);

  // --- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ (–ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é) ---
  const [isOnboarding, setOnboarding] = useState(false);
  const onboardingVisibleRef = useRef(false);
  const ignoreNextTouchMoveRef = useRef(false);

  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3 —Ä–∞–∑–∞
  useEffect(() => {
    const onboardingCount = Number(localStorage.getItem(LS_KEYS.PHOTO_ZOOM_SHOW_LIMIT)) || 0;
    if (enabled && onboardingCount < 3) {
      onboardingVisibleRef.current = true;
      setOnboarding(true);
      localStorage.setItem(LS_KEYS.PHOTO_ZOOM_SHOW_LIMIT, String(onboardingCount + 1));
    }
  }, [enabled]);

  const closeOnboarding = useCallback(() => {
    if (!onboardingVisibleRef.current) {
      return;
    }
    onboardingVisibleRef.current = false;

    // –û—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º —Å–∫—Ä—ã—Ç–∏–µ, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å —Ç–µ–∫—É—â–µ–º—É –∂–µ—Å—Ç—É
    requestAnimationFrame(() => setOnboarding(false));

    // –û—á–∏—â–∞–µ–º –∫—ç—à–∏ –∂–µ—Å—Ç–æ–≤, —á—Ç–æ–±—ã —Å–ª–µ–¥—É—é—â–∏–π –∂–µ—Å—Ç –Ω–µ —Å—á–∏—Ç–∞–ª—Å—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ
    touchCacheRef.current.clear();
    pointerCacheRef.current.clear();
    lastSingleTouchRef.current = null;
    ignoreNextTouchMoveRef.current = true;
  }, []);

  // --- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Å–∞–Ω–∏–π ---
  const getTouches = (e) => {
    const pts = [];
    for (let i = 0; i < e.touches.length; i++) {
      const t = e.touches.item(i);
      pts.push({ id: t.identifier, x: t.clientX, y: t.clientY });
    }
    return pts;
  };

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ –∫–∞—Å–∞–Ω–∏—è (touchstart)
  const onTouchStart = (e) => {
    closeOnboarding();
    const frameEl = frameRef.current;
    if (!frameEl) {
      return;
    }

    const pts = getTouches(e);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è
    pts.forEach((p) => touchCacheRef.current.set(p.id, { x: p.x, y: p.y }));

    // –ï—Å–ª–∏ –æ–¥–Ω–æ –∫–∞—Å–∞–Ω–∏–µ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è
    if (touchCacheRef.current.size === 1) {
      const p = pts[0];
      lastSingleTouchRef.current = { x: p.x, y: p.y };
    }

    // –ï—Å–ª–∏ –¥–≤–∞ –∫–∞—Å–∞–Ω–∏—è - –Ω–∞—á–∏–Ω–∞–µ–º –∂–µ—Å—Ç–æ–≤–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (pinch)
    if (touchCacheRef.current.size === 2) {
      const [id1, id2] = Array.from(touchCacheRef.current.keys());
      const p1 = touchCacheRef.current.get(id1);
      const p2 = touchCacheRef.current.get(id2);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∂–µ—Å—Ç–∞
      frameEl._initialPinchDistance = getDistance(p1, p2);
      frameEl._initialPinchMidpoint = getMidpoint(p1, p2);
      frameEl._initialPinchScale = scale;
      frameEl._initialTranslateX = translate.x;
      frameEl._initialTranslateY = translate.y;
    }
  };

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∫–∞—Å–∞–Ω–∏–π (touchmove)
  const onTouchMove = (e) => {
    const frameEl = frameRef.current;
    if (!frameEl) {
      return;
    }

    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π move –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞
    if (ignoreNextTouchMoveRef.current) {
      ignoreNextTouchMoveRef.current = false;
      const ptsInit = getTouches(e);
      if (ptsInit.length === 1) {
        lastSingleTouchRef.current = { x: ptsInit[0].x, y: ptsInit[0].y };
      }
      return;
    }

    // –ï—Å–ª–∏ –¥–≤–∞ –ø–∞–ª—å—Ü–∞ - –∂–µ—Å—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
    if (touchCacheRef.current.size >= 2) {
      e.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      const pts = getTouches(e);
      pts.forEach((p) => touchCacheRef.current.set(p.id, { x: p.x, y: p.y }));

      const [id1, id2] = Array.from(touchCacheRef.current.keys());
      const p1 = touchCacheRef.current.get(id1);
      const p2 = touchCacheRef.current.get(id2);

      const rect = frameEl.getBoundingClientRect();
      const midpoint = getMidpoint(p1, p2);

      // –ü–æ–ª—É—á–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
      const initialDistance = frameEl._initialPinchDistance;
      const initialScale = frameEl._initialPinchScale;
      const initialMidpoint = frameEl._initialPinchMidpoint;

      if (initialDistance == null || initialScale == null || !initialMidpoint) {
        return;
      }

      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞—Å—à—Ç–∞–± –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–∞–ª—å—Ü–∞–º–∏
      const currentDistance = getDistance(p1, p2);
      const nextScale = clamp(
        (currentDistance / initialDistance) * initialScale,
        minScale,
        maxScale
      );

      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
      const next = computeNextTranslateFromPinch(
        initialScale,
        frameEl._initialTranslateX,
        frameEl._initialTranslateY,
        initialMidpoint,
        midpoint,
        rect,
        nextScale
      );

      applyTransform(nextScale, next.x, next.y);
    } else if (touchCacheRef.current.size === 1 && scale > 1) {
      // –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–∞–ª–µ—Ü –∏ –µ—Å—Ç—å –∑—É–º - –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ
      e.preventDefault();
      const pts = getTouches(e);
      if (pts.length !== 1 || !lastSingleTouchRef.current) {
        return;
      }

      const curr = pts[0];
      const dx = curr.x - lastSingleTouchRef.current.x;
      const dy = curr.y - lastSingleTouchRef.current.y;

      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
      const nextX = lastGestureRef.current.translateX + dx;
      const nextY = lastGestureRef.current.translateY + dy;

      const clamped = clampTranslate(nextX, nextY, scale);
      setTranslate(clamped);

      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      lastGestureRef.current = {
        scale,
        translateX: clamped.x,
        translateY: clamped.y,
      };
      lastSingleTouchRef.current = { x: curr.x, y: curr.y };
    }
  };

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫–∞—Å–∞–Ω–∏—è
  const onTouchEnd = (e) => {
    // –£–¥–∞–ª—è–µ–º –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–µ—Å—è –∫–∞—Å–∞–Ω–∏—è –∏–∑ –∫—ç—à–∞
    for (let i = 0; i < e.changedTouches.length; i++) {
      const t = e.changedTouches.item(i);
      touchCacheRef.current.delete(t.identifier);
    }

    lastGestureRef.current = {
      scale,
      translateX: translate.x,
      translateY: translate.y,
    };

    // –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±—É - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
    if (scale <= 1.01) {
      applyTransform(1, 0, 0);
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–¥–∏–Ω–æ—á–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ, –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–æ—Å—å –æ–¥–Ω–æ
    if (touchCacheRef.current.size === 1) {
      const id = Array.from(touchCacheRef.current.keys())[0];
      const p = touchCacheRef.current.get(id);
      lastSingleTouchRef.current = { x: p.x, y: p.y };
    } else {
      lastSingleTouchRef.current = null;
    }
  };

  // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏/–æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  useEffect(() => {
    if (!enabled) {
      return;
    }
    setScale(1);
    setTranslate(INIT_TRANSLATE);
    lastGestureRef.current = { scale: 1, translateX: 0, translateY: 0 };
  }, [enabled]);

  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ touch-—Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  useEffect(() => {
    const win = typeof window !== 'undefined' ? window : undefined;
    const isTouchCapable = !!(win && ('ontouchstart' in win || navigator?.maxTouchPoints > 0));

    if (!isTouchCapable || !enabled) {
      return;
    }

    return attachWhenRefsReady((frame) => {
      frame.addEventListener('touchstart', onTouchStart, { passive: false });
      frame.addEventListener('touchmove', onTouchMove, { passive: false });
      frame.addEventListener('touchend', onTouchEnd, { passive: false });
      frame.addEventListener('touchcancel', onTouchEnd, { passive: false });

      return () => {
        frame.removeEventListener('touchstart', onTouchStart);
        frame.removeEventListener('touchmove', onTouchMove);
        frame.removeEventListener('touchend', onTouchEnd);
        frame.removeEventListener('touchcancel', onTouchEnd);
      };
    });
  }, [attachWhenRefsReady, onTouchStart, onTouchMove, onTouchEnd, enabled]);

  // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∂–µ—Å—Ç–∞ pinch (pointer-—Å–æ–±—ã—Ç–∏—è)
  const updateTransformForPinch = useCallback(() => {
    if (pointerCacheRef.current.size < 2) {
      return;
    }

    // –ü–æ–ª—É—á–∞–µ–º –¥–≤–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª—è
    const [firstId, secondId] = Array.from(pointerCacheRef.current.keys());
    const p1 = pointerCacheRef.current.get(firstId);
    const p2 = pointerCacheRef.current.get(secondId);

    const container = mediaContainerRef.current;
    if (!container) {
      return;
    }

    const frameEl = frameRef.current;
    const rect = (frameEl ?? container).getBoundingClientRect();
    const midpoint = getMidpoint(p1, p2);

    // –ü–æ–ª—É—á–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∂–µ—Å—Ç–∞
    const baseEl = frameEl ?? container;
    const initialDistance = baseEl._initialPinchDistance;
    const initialScale = baseEl._initialPinchScale;
    const initialMidpoint = baseEl._initialPinchMidpoint;

    if (initialDistance == null || initialScale == null || !initialMidpoint) {
      return;
    }

    // –í—ã—á–∏—Å–ª—è–µ–º –º–∞—Å—à—Ç–∞–± –∏ –ø–æ–∑–∏—Ü–∏—é –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ touch-—Å–æ–±—ã—Ç–∏—è–º
    const currentDistance = getDistance(p1, p2);
    const nextScale = clamp((currentDistance / initialDistance) * initialScale, minScale, maxScale);

    const next = computeNextTranslateFromPinch(
      initialScale,
      baseEl._initialTranslateX,
      baseEl._initialTranslateY,
      initialMidpoint,
      midpoint,
      rect,
      nextScale
    );

    applyTransform(nextScale, next.x, next.y);
  }, []);

  // --- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ pointer-—Å–æ–±—ã—Ç–∏–π (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö) ---

  const onPointerDown = useCallback(
    (e) => {
      e.stopPropagation(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      closeOnboarding();

      const target = e.currentTarget;
      target.setPointerCapture(e.pointerId);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å
      pointerCacheRef.current.set(e.pointerId, { x: e.clientX, y: e.clientY });

      // –ï—Å–ª–∏ –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è - –Ω–∞—á–∏–Ω–∞–µ–º –∂–µ—Å—Ç–æ–≤–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
      if (pointerCacheRef.current.size === 2) {
        const [id1, id2] = Array.from(pointerCacheRef.current.keys());
        const p1 = pointerCacheRef.current.get(id1);
        const p2 = pointerCacheRef.current.get(id2);

        target._initialPinchDistance = getDistance(p1, p2);
        target._initialPinchMidpoint = getMidpoint(p1, p2);
        target._initialPinchScale = scale;
        target._initialTranslateX = translate.x;
        target._initialTranslateY = translate.y;
      }
    },
    [scale, translate.x, translate.y, closeOnboarding]
  );

  const onPointerMove = useCallback(
    (e) => {
      if (!pointerCacheRef.current.has(e.pointerId)) {
        return;
      }

      pointerCacheRef.current.set(e.pointerId, { x: e.clientX, y: e.clientY });

      // –î–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è - –∂–µ—Å—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
      if (pointerCacheRef.current.size >= 2) {
        updateTransformForPinch();
      } else if (pointerCacheRef.current.size === 1 && scale > 1) {
        // –û–¥–∏–Ω —É–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–∏ –∑—É–º–µ - –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ
        e.stopPropagation();
        const prev = lastGestureRef.current;
        const movementX = e.movementX ?? 0;
        const movementY = e.movementY ?? 0;

        const nextX = prev.translateX + movementX;
        const nextY = prev.translateY + movementY;

        const clamped = clampTranslate(nextX, nextY, scale);
        setTranslate(clamped);

        lastGestureRef.current = {
          scale,
          translateX: clamped.x,
          translateY: clamped.y,
        };
      }
    },
    [scale, updateTransformForPinch, clampTranslate]
  );

  const onPointerUpOrCancel = useCallback(
    (e) => {
      const target = e.currentTarget;
      try {
        target.releasePointerCapture(e.pointerId);
      } catch {
        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª—å —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω
      }

      pointerCacheRef.current.delete(e.pointerId);
      lastGestureRef.current = {
        scale,
        translateX: translate.x,
        translateY: translate.y,
      };

      // –í–æ–∑–≤—Ä–∞—Ç –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–∏ –º–∞–ª–µ–Ω—å–∫–æ–º –º–∞—Å—à—Ç–∞–±–µ
      if (scale <= 1.01) {
        applyTransform(1, 0, 0);
      }
    },
    [scale, translate.x, translate.y, applyTransform]
  );

  // --- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑—É–º–∞ –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ (Ctrl + –∫–æ–ª–µ—Å–æ) ---
  useEffect(() => {
    if (!enabled) {
      return;
    }

    const onWheelNative = (e) => {
      closeOnboarding();

      // –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å –∑–∞–∂–∞—Ç—ã–º Ctrl (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∂–µ—Å—Ç –∑—É–º–∞)
      if (!e.ctrlKey) {
        return;
      }

      e.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      const frame = frameRef.current;
      if (!frame) {
        return;
      }

      const rect = frame.getBoundingClientRect();
      const delta = -e.deltaY; // –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
      const currentScale = lastGestureRef.current.scale;
      const currentX = lastGestureRef.current.translateX;
      const currentY = lastGestureRef.current.translateY;

      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞—Å—à—Ç–∞–±
      const newScale = clamp(currentScale * (1 + delta * wheelIntensity), minScale, maxScale);

      const scaleDelta = newScale - currentScale;

      // –í—ã—á–∏—Å–ª—è–µ–º —Ç–æ—á–∫—É –∑—É–º–∞ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞)
      const originX = e.clientX - rect.left - rect.width / 2;
      const originY = e.clientY - rect.top - rect.height / 2;

      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é —Å —É—á–µ—Ç–æ–º —Ç–æ—á–∫–∏ –∑—É–º–∞
      const nextX = currentX - scaleDelta * originX;
      const nextY = currentY - scaleDelta * originY;

      applyTransform(newScale, nextX, nextY);
    };

    return attachWhenRefsReady((frame, media) => {
      frame.addEventListener('wheel', onWheelNative, { passive: false });
      media.addEventListener('wheel', onWheelNative, { passive: false });

      return () => {
        frame.removeEventListener('wheel', onWheelNative);
        media.removeEventListener('wheel', onWheelNative);
      };
    });
  }, [
    closeOnboarding,
    attachWhenRefsReady,
    applyTransform,
    wheelIntensity,
    minScale,
    maxScale,
    enabled,
  ]);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º API —Ö—É–∫–∞
  return useMemo(
    () => ({
      frameRef, // –†–µ—Ñ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      mediaContainerRef, // –†–µ—Ñ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
      transformStyle, // CSS —Å—Ç–∏–ª—å –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
      onPointerDown, // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞—á–∞–ª–∞ pointer-—Å–æ–±—ã—Ç–∏—è
      onPointerMove, // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è pointer
      onPointerUpOrCancel, // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è pointer
      closeOnboarding, // –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏
      isOnboarding, // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∫–∞–∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
    }),
    [
      transformStyle,
      onPointerDown,
      onPointerMove,
      onPointerUpOrCancel,
      isOnboarding,
      closeOnboarding,
    ]
  );
};

export default useZoom;
```

–û—Å–Ω–æ–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑—É–º–∞ –∂–µ—Å—Ç–∞–º–∏ ‚Äî –Ω–µ –≤ —Å–∞–º–æ–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –∞ –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–æ–∏—Ç –∑–∞ –∂–µ—Å—Ç–∞–º–∏. –í–æ—Ç —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```javascript
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
// min: 1 (–±–µ–∑ —É–≤–µ–ª–∏—á–µ–Ω–∏—è), max: 4 (4-–∫—Ä–∞—Ç–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ)
export const SCALE_LIMITS = { min: 1, max: 4 };

// –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ (–±–µ–∑ —Å–º–µ—â–µ–Ω–∏—è)
export const INIT_TRANSLATE = { x: 0, y: 0 };

/**
 * –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ –≤ 2D-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–∞–ª—å—Ü–∞–º–∏ –ø—Ä–∏ pinch-–∂–µ—Å—Ç–µ
 *
 * –§–æ—Ä–º—É–ª–∞: ‚àö((x‚ÇÇ - x‚ÇÅ)¬≤ + (y‚ÇÇ - y‚ÇÅ)¬≤)
 * –ò—Å–ø–æ–ª—å–∑—É–µ–º Math.hypot –¥–ª—è —á–∏—Å–ª–µ–Ω–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
 */
export const getDistance = (a, b) => {
  const dx = a.x - b.x; // –†–∞–∑–Ω–∏—Ü–∞ –ø–æ –æ—Å–∏ X
  const dy = a.y - b.y; // –†–∞–∑–Ω–∏—Ü–∞ –ø–æ –æ—Å–∏ Y
  return Math.hypot(dx, dy); // ‚àö(dx¬≤ + dy¬≤)
};

/**
 * –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞ pinch-–∂–µ—Å—Ç–∞
 *
 * –§–æ—Ä–º—É–ª–∞: x = (x‚ÇÅ + x‚ÇÇ) / 2, y = (y‚ÇÅ + y‚ÇÇ) / 2
 * –≠—Ç–∞ —Ç–æ—á–∫–∞ —Å–ª—É–∂–∏—Ç "—Ü–µ–Ω—Ç—Ä–æ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è" –¥–ª—è –∂–µ—Å—Ç–∞
 */
export const getMidpoint = (a, b) => ({
  x: (a.x + b.x) / 2, // –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ X
  y: (a.y + b.y) / 2, // –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ Y
});

/**
 * –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö
 * –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –≤—ã–π–¥–µ—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã min –∏ max
 *
 * –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ value < min ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º min
 *         –µ—Å–ª–∏ value > max ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º max
 *         –∏–Ω–∞—á–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º value
 *
 * –ü—Ä–∏–º–µ—Ä—ã:
 *   clamp(5, 1, 10) ‚Üí 5
 *   clamp(0, 1, 10) ‚Üí 1
 *   clamp(15, 1, 10) ‚Üí 10
 */
export const clamp = (value, min, max) => Math.max(min, Math.min(max, value));

/**
 * –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –¥–ª—è pinch-–∂–µ—Å—Ç–∞
 *
 * –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –∂–µ—Å—Ç–æ–≤–æ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏.
 * –ë–µ–∑ –Ω–µ—ë –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–ø—Ä—ã–≥–∞–ª–æ" –±—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–∞—Å—à—Ç–∞–±–∞.
 * –ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:
 * 1. –í—ã—á–∏—Å–ª—è–µ–º —Å–º–µ—â–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏: –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø–∞–ª–µ—Ü –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è
 * 2. –í—ã—á–∏—Å–ª—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ (—Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º –∏ –Ω–æ–≤—ã–º)
 * 3. –í—ã—á–∏—Å–ª—è–µ–º —Ç–æ—á–∫—É "–ø—Ä–∏–≤—è–∑–∫–∏" (origin) –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
 * 4. –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
 *
 * –§–æ—Ä–º—É–ª–∞ –¥–ª—è X:
 *   initialTranslateX + dxMid - scaleDelta * originX
 *   –≥–¥–µ:
 *     - initialTranslateX: –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
 *     - dxMid: —Å–º–µ—â–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏ –ø–æ X
 *     - scaleDelta: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞
 *     - originX: —Ç–æ—á–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
 *
 * –ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
 * 1. dxMid, dyMid: –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –ø–∞–ª—å—Ü–µ–≤ (–ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ)
 * 2. scaleDelta * originX/Y: –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞
 *
 * –í–∏–∑—É–∞–ª—å–Ω–æ: –ø—Ä–∏ –∑—É–º–µ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Ç–æ—á–∫–∞ –ø–æ–¥ –ø–∞–ª—å—Ü–∞–º–∏ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –Ω–∞ –º–µ—Å—Ç–µ,
 * –∞ –Ω–µ –ø—Ä—ã–≥–∞–ª–∞ –≤ —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞.
 */
export const computeNextTranslateFromPinch = (
  initialScale,
  initialTranslateX,
  initialTranslateY,
  initialMidpoint,
  currentMidpoint,
  rect,
  nextScale
) => {
  // 1. –°–º–µ—â–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏ –∂–µ—Å—Ç–∞ (–ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ)
  const dxMid = currentMidpoint.x - initialMidpoint.x;
  const dyMid = currentMidpoint.y - initialMidpoint.y;

  // 2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ (—Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º –∏ –Ω–æ–≤—ã–º)
  const scaleDelta = nextScale - initialScale;

  // 3. –¢–æ—á–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  //    –≠—Ç–æ —Å–º–µ—â–∞–µ—Ç "—Ü–µ–Ω—Ç—Ä –∑—É–º–∞" –∫ —Ç–æ—á–∫–µ –º–µ–∂–¥—É –ø–∞–ª—å—Ü–∞–º–∏
  const originX = currentMidpoint.x - rect.left - rect.width / 2;
  const originY = currentMidpoint.y - rect.top - rect.height / 2;

  // 4. –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏
  return {
    // –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è + –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∞
    x: initialTranslateX + dxMid - scaleDelta * originX,
    y: initialTranslateY + dyMid - scaleDelta * originY,
  };
};
```

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç computeNextTranslateFromPinch –∏ –ø–æ—á–µ–º—É –æ–Ω–∞ —Ç–∞–∫ –≤–∞–∂–Ω–∞? –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è ‚Äî —Å–µ—Ä–¥—Ü–µ –∂–µ—Å—Ç–æ–≤–æ–≥–æ –∑—É–º–∞. –ë–µ–∑ –Ω–µ—ë –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∂–µ—Å—Ç–æ–º pinch, –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤—Å–µ–≥–¥–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–ª–∞—Å—å –±—ã –∫ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞, –∞ –Ω–µ –∫ —Ç–æ—á–∫–µ –º–µ–∂–¥—É –≤–∞—à–∏–º–∏ –ø–∞–ª—å—Ü–∞–º–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –∂–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ, –∏ –≤–¥—Ä—É–≥ ‚Äî —Ä–∞–∑! ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä—ã–≥–∞–µ—Ç, –∏ –Ω—É–∂–Ω–∞—è –¥–µ—Ç–∞–ª—å –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ. –£–∂–∞—Å–Ω–æ.

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ:

- –°–º–µ—â–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏ (dxMid, dyMid): –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤–∞—à–∏ –ø–∞–ª—å—Ü—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏—Å—å –ø–æ —ç–∫—Ä–∞–Ω—É. –≠—Ç–æ –¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –≤–µ—Å—Ç–∏ –ø–∞–ª—å—Ü–∞–º–∏ –ø–æ —ç–∫—Ä–∞–Ω—É, –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ –Ω–∏–º–∏.

- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ (scaleDelta): –≤—ã—á–∏—Å–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–≤–µ–ª–∏—á–∏–ª–∏ –∏–ª–∏ —É–º–µ–Ω—å—à–∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ —Ä–∞–∑–¥–≤–∏–Ω—É–ª–∏ –ø–∞–ª—å—Ü—ã ‚Äî scaleDelta –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π, –µ—Å–ª–∏ —Å–≤–µ–ª–∏ ‚Äî –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π.

- –¢–æ—á–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ (originX, originY): –≤–æ—Ç –∑–¥–µ—Å—å –º–∞–≥–∏—è! –≠—Ç–∞ —á–∞—Å—Ç—å –≤—ã—á–∏—Å–ª—è–µ—Ç, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ—á–∫–∞ –º–µ–∂–¥—É –≤–∞—à–∏–º–∏ –ø–∞–ª—å—Ü–∞–º–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞. –ï—Å–ª–∏ –ø–∞–ª—å—Ü—ã –≤ —Ü–µ–Ω—Ç—Ä–µ ‚Äî originX/Y –±–ª–∏–∑–∫–∏ –∫ –Ω—É–ª—é, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑ —Ü–µ–Ω—Ç—Ä–∞. –ï—Å–ª–∏ –ø–∞–ª—å—Ü—ã –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É ‚Äî originX –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π, originY –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π, –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å —É—á—ë—Ç–æ–º —ç—Ç–æ–≥–æ —Å–º–µ—â–µ–Ω–∏—è.

> –ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:
> **–Ω–æ–≤–∞—è*–ø–æ–∑–∏—Ü–∏—è = —Å—Ç–∞—Ä–∞—è*–ø–æ–∑–∏—Ü–∏—è + —Å–º–µ—â–µ–Ω–∏–µ*–ø–∞–ª—å—Ü–µ–≤ - –∏–∑–º–µ–Ω–µ–Ω–∏–µ*–º–∞—Å—à—Ç–∞–±–∞ √ó —Ç–æ—á–∫–∞_–ø—Ä–∏–≤—è–∑–∫–∏**

–≠—Ç–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–∞—ë—Ç —Ç–æ—Ç —Å–∞–º—ã–π –ø–ª–∞–≤–Ω—ã–π, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –∑—É–º, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã –ø—Ä–∏–≤—ã–∫–ª–∏ –≤ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Ç–∞–º, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–∞—à–∏ –ø–∞–ª—å—Ü—ã, –∞ –Ω–µ –ø—Ä—ã–≥–∞–µ—Ç –ø–æ —ç–∫—Ä–∞–Ω—É.

#### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:

- –í—ã —Å—Ç–∞–≤–∏—Ç–µ –¥–≤–∞ –ø–∞–ª—å—Ü–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–æ–º –º–µ—Å—Ç–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å
- –ù–∞—á–∏–Ω–∞–µ—Ç–µ —Ä–∞–∑–¥–≤–∏–≥–∞—Ç—å –ø–∞–ª—å—Ü—ã ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–≤–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–µ —Å–º–µ—Å—Ç–∏–ª–∏—Å—å –ª–∏ –ø–∞–ª—å—Ü—ã –ø–æ —ç–∫—Ä–∞–Ω—É

–í—Å—ë —ç—Ç–æ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç—Å—è –≤ –æ–¥–Ω—É –ø–ª–∞–≤–Ω—É—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–º–µ—â–∞–µ—Ç—Å—è, —á—Ç–æ–±—ã —Ç–æ—á–∫–∞ –º–µ–∂–¥—É –ø–∞–ª—å—Ü–∞–º–∏ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –ø–æ–¥ –Ω–∏–º–∏

–ë–µ–∑ —ç—Ç–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –º—ã –±—ã –ø–æ–ª—É—á–∏–ª–∏ —Ç–æ—Ç –∂–µ –Ω–µ—É–∫–ª—é–∂–∏–π –∑—É–º, —á—Ç–æ –≤ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –≥–¥–µ –≤—Å—ë –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∫ —Ü–µ–Ω—Ç—Ä—É. –ê —Å –Ω–µ–π ‚Äî –ø–ª–∞–≤–Ω—ã–π, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π "–ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç" —Ç–∞–∫, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

### –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

- –≠–≤–æ–ª—é—Ü–∏—è –ø–æ–¥—Ö–æ–¥–æ–≤: –û—Ç Art Direction (—Ä–∞–∑–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤) ‚Üí –∫ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–º—É –¥–∏–∑–∞–π–Ω—É (–æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –º–µ–Ω—è—é—â–µ–µ —Ä–∞–∑–º–µ—Ä) ‚Üí –∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º (–ª—É–ø–∞, –∂–µ—Å—Ç–æ–≤—ã–π –∑—É–º) –∫–∞–∫ –Ω–æ–≤–æ–º—É —É—Ä–æ–≤–Ω—é –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤–∞–∂–Ω–µ–µ –∫–æ–¥–∞: –°–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ computeNextTranslateFromPinch. –ë–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ –¥–∞–∂–µ —Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–æ—Ö–æ.
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É: –†–µ—à–µ–Ω–∏—è –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ (–ª—É–ø–∞) –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–∂–µ—Å—Ç—ã) –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–µ, –Ω–æ –ø—Ä–µ—Å–ª–µ–¥—É—é—Ç –æ–¥–Ω—É —Ü–µ–ª—å ‚Äî –¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º, –ø–æ–¥–æ–±–Ω–æ —Ç–æ–º—É, –∫–∞–∫ Art Direction –¥–∞–≤–∞–ª –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π.
- –û–±—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –º–Ω–æ–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–µ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑—É–º–∞ –∂–µ—Å—Ç–∞–º–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ localStorage).
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑—É–º–∞ –≤–∞–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ –∂–µ—Å—Ç–∞–º–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ–º preventDefault() –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ pointer-—Å–æ–±—ã—Ç–∏—è–º–∏).
- –í–æ–∑–≤—Ä–∞—Ç –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é: –ü–æ—Å–ª–µ —É–º–µ–Ω—å—à–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∞ –¥–æ ~1.0 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é ‚Äî —ç—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –æ–∂–∏–¥–∞–Ω–∏—è–º –∏ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

**–ò—Ç–æ–≥:** –•–æ—Ä–æ—à–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ img —Å max-width: 100%. –≠—Ç–æ –ø—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏, —á—Ç–æ –Ω–µ–º–∞–ª–æ–≤–∞–∂–Ω–æ, —Å–ª–æ–∂–Ω—É—é –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –∂–µ—Å—Ç–æ–≤. –ö–∞–∫ –∏ –≤ –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–µ, –≥–¥–µ –∫–∞–¥—Ä –ø–µ—Ä–µ–∫–∞–¥—Ä–∏—Ä—É—é—Ç –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –≤ –≤–µ–±–µ –º—ã –¥–æ–ª–∂–Ω—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä—ã, –Ω–æ –∏ —Å–∞–º–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

> –ò –Ω–µ—Ç, —è –Ω–µ —Ç–∞–∫ —Ö–æ—Ä–æ—à –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ, –ø–æ—ç—Ç–æ–º—É —ç—Ç–∏ —Ñ–æ—Ä–º—É–ª—ã –Ω–∞–ø–∏—Å–∞–ª –∏ –Ω–∞—à–µ–ª –Ω–µ —è, —Å –Ω–∏–º–∏ –º–Ω–µ –ª—é–±–µ–∑–Ω–æ –ø–æ–º–æ–≥ –º–æ–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ü§ñ ü§ì

---

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- [[View Transitions –≤ React ‚Äî —Ä–∞–±–æ—á–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –≥–æ–¥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ](/garden/view-transitions)]
- [[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Workbox Background Sync –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å iOS –∏ Android WebView](/garden/workbox-background-sync)]
- [[–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ–π —á–∞—Å—Ç–∏ viewport](/garden/viewport)]
- [[–ü–µ—Ä–µ—Ö–æ–¥ –ø–æ DeepLink –∏–∑ Web](/garden/deeplink-web)]
- [[–ö–æ–Ω—Ñ–ª–∏–∫—Ç –æ—Ñ—Ñ–ª–∞–π–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –ª–µ–Ω–∏–≤–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–∏](/garden/offline-vs-lazy-loading)]
